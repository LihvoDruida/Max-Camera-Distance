# git-cliff configuration file
# https://git-cliff.org/docs/configuration

[changelog]
# –ó–∞–≥–æ–ª–æ–≤–æ–∫ —Ñ–∞–π–ª—É
header = """
# Changelog

All notable changes to this project will be documented in this file.
"""

# –®–∞–±–ª–æ–Ω —Ç—ñ–ª–∞ (–¢—ñ–ª—å–∫–∏ —Ç–µ–∫—Å—Ç –∫–æ–º—ñ—Ç—É, –±–µ–∑ –∞–≤—Ç–æ—Ä–∞, –±–µ–∑ –ø–æ—Å–∏–ª–∞–Ω—å)
body = """
{% if version -%}
    ## [{{ version | trim_start_matches(pat="v") }}] - {{ timestamp | date(format="%Y-%m-%d") }}
{% else -%}
    ## [Unreleased]
{% endif -%}

{% for group, commits in commits | group_by(attribute="group") %}
    ### {{ group | upper_first }}
    {% for commit in commits %}
        - {% if commit.breaking %}**[‚ö†Ô∏è Breaking]** {% endif %}{{ commit.message | upper_first | trim }}
    {% endfor %}
{% endfor %}
"""
# –í–∏–¥–∞–ª—è—î –∑–∞–π–≤—ñ –ø–µ—Ä–µ–Ω–æ—Å–∏ —Ä—è–¥–∫—ñ–≤ –Ω–∞ –ø–æ—á–∞—Ç–∫—É/–≤ –∫—ñ–Ω—Ü—ñ —à–∞–±–ª–æ–Ω—É
trim = true

[git]
conventional_commits = true
filter_unconventional = false
split_commits = false

# –ü–æ–ø–µ—Ä–µ–¥–Ω—è –æ–±—Ä–æ–±–∫–∞ —Ç–µ–∫—Å—Ç—É –∫–æ–º—ñ—Ç—ñ–≤
commit_preprocessors = [
  # –ó–∞–º—ñ–Ω—é—î –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ –∑–∞–¥–∞—á—É (#123) –ø—Ä–æ—Å—Ç–æ –Ω–∞ —Ç–µ–∫—Å—Ç #123 (—â–æ–± –Ω–µ –±—É–ª–æ –±–∏—Ç–∏—Ö –ø–æ—Å–∏–ª–∞–Ω—å)
  { pattern = '\((\w+\s)?#([0-9]+)\)', replace = " # ${2}" },
  # –í–∏–¥–∞–ª—è—î –∑–∞–π–≤—ñ –ø—Ä–æ–±—ñ–ª–∏ –≤ –∫—ñ–Ω—Ü—ñ —Ä—è–¥–∫–∞
  { pattern = " +$", replace = "" }
]

# –ü–∞—Ä—Å–µ—Ä–∏: –≤–∏–∑–Ω–∞—á–∞—é—Ç—å, –≤ —è–∫—É –≥—Ä—É–ø—É –ø–æ—Ç—Ä–∞–ø–∏—Ç—å –∫–æ–º—ñ—Ç
commit_parsers = [
  { message = "^feat", group = "üöÄ New Features" },
  { message = "^fix", group = "üêõ Bug Fixes" },
  { message = "^doc", group = "üìö Documentation", skip = true },
  { message = "^perf", group = "‚ö° Performance" },
  { message = "^refactor", group = "üõ†Ô∏è Refactor" },
  { message = "^style", group = "üé® Styling", skip = true },
  { message = "^test", group = "üß™ Testing", skip = true },
  { message = "^chore\\(release\\): prepare for", skip = true },
  { message = "^chore", group = "‚öôÔ∏è Miscellaneous Tasks" },
  { body = ".*security", group = "üîí Security" },
  { message = "^revert", group = "‚è™ Revert" },
  # –í—Å–µ —ñ–Ω—à–µ
  { message = ".*", group = "üì¶ Other Changes" },
]

protect_breaking_commits = false
filter_commits = false
tag_pattern = "v[0-9].*"
ignore_tags = "rc|beta|alpha"
topo_order = false
sort_commits = "newest"