# git-cliff configuration file
# https://git-cliff.org/docs/configuration

[changelog]
# –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î–º–æ –∑–º—ñ–Ω–Ω—É –æ—Ç–æ—á–µ–Ω–Ω—è –∞–±–æ –¥–µ—Ñ–æ–ª—Ç
header = """
# Changelog\n
All notable changes to this project will be documented in this file.\n
"""

# –û–ø—Ç–∏–º—ñ–∑–æ–≤–∞–Ω–∏–π —à–∞–±–ª–æ–Ω
body = """
{% if version -%}
    ## [{{ version | trim_start_matches(pat="v") }}] - {{ timestamp | date(format="%Y-%m-%d") }}
{% else -%}
    ## [Unreleased]
{% endif -%}

{% for group, commits in commits | group_by(attribute="group") %}
    ### {{ group | upper_first }}
    {% for commit in commits %}
        - {% if commit.breaking %}[**breaking**] {% endif -%}
          {{ commit.message | upper_first }} \
          ([{{ commit.id | truncate(length=7, end="") }}](<REPO_URL>/commit/{{ commit.id }})) - {{ commit.author.name }}
    {% endfor %}
{% endfor %}
"""
trim = true

[git]
conventional_commits = true
filter_unconventional = false
split_commits = false

# –û–±—Ä–æ–±–∫–∞ —Ç–µ–∫—Å—Ç—É –ø–µ—Ä–µ–¥ –ø–∞—Ä—Å–∏–Ω–≥–æ–º
commit_preprocessors = [
  { pattern = '\((\w+\s)?#([0-9]+)\)', replace = "([#${2}](<REPO_URL>/issues/${2}))" }, # –ó–∞–º—ñ–Ω–∞ (#123) –Ω–∞ –ø–æ—Å–∏–ª–∞–Ω–Ω—è
  { pattern = " +$", replace = "" } # –í–∏–¥–∞–ª–µ–Ω–Ω—è –ø—Ä–æ–±—ñ–ª—ñ–≤ –≤ –∫—ñ–Ω—Ü—ñ
]

# –ü–æ—Ä—è–¥–æ–∫ —Ç—É—Ç –≤–∏–∑–Ω–∞—á–∞—î –ø–æ—Ä—è–¥–æ–∫ –≥—Ä—É–ø —É changelog
commit_parsers = [
  { message = "^feat", group = "ü¶∏‚Äç‚ôÇÔ∏è New Features" },
  { message = "^fix", group = "‚öîÔ∏è Bug Fixes" },
  { message = "^perf", group = "üí® Performance Tweaks" },
  { message = "^doc", group = "üìú Documentation", skip = true },
  { message = "^refactor", group = "üõ†Ô∏è Code Refinements" },
  { message = "^test", group = "üéÆ Testing & Validation" },
  { message = "^ci", group = "üõ°Ô∏è CI/Build", skip = true },
  { message = "^chore", group = "üîß Miscellaneous Tasks" },
  { body = ".*security", group = "üïµÔ∏è‚Äç‚ôÇÔ∏è Security Fixes" },
  { message = "^revert", group = "‚è™ Revert" },
  # –¶–µ–π –ø–∞—Ä—Å–µ—Ä –ª–æ–≤–∏—Ç—å –≤—Å–µ —ñ–Ω—à–µ —ñ —Å—Ç–∞–≤–∏—Ç—å –≤ –∫—ñ–Ω–µ—Ü—å
  { message = ".*", group = "üì¶ Other Changes" },
]

protect_breaking_commits = false
filter_commits = false
tag_pattern = "v[0-9].*"
ignore_tags = "rc|beta|alpha" # –Ü–≥–Ω–æ—Ä—É–≤–∞—Ç–∏ –ø—Ä–µ-—Ä–µ–ª—ñ–∑–∏, —è–∫—â–æ —Ç—Ä–µ–±–∞
topo_order = false
sort_commits = "newest" # –ó–∞–∑–≤–∏—á–∞–π –Ω–æ–≤—ñ –∫–æ–º—ñ—Ç–∏ –ø–æ–∫–∞–∑—É—é—Ç—å –∑–≤–µ—Ä—Ö—É
# limit_commits = 50 # –í–ò–î–ê–õ–ï–ù–û: –¶–µ –º–æ–∂–µ –æ–±—Ä—ñ–∑–∞—Ç–∏ –≤–∞–∂–ª–∏–≤—ñ –∑–º—ñ–Ω–∏ —É –≤–µ–ª–∏–∫–∏—Ö —Ä–µ–ª—ñ–∑–∞—Ö